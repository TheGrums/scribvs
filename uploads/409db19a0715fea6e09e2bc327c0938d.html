<!DOCTYPE html>
<html class="wf-armataampsubsetlatin-n4-active wf-active" lang="en-US"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">

	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>HTML5: Saving Canvas Image Data Using PHP And Ajax | permadi.com</title>
		 <style type="text/css"> body a:hover, body a:focus { color: #c63964; } body a, body a:hover { color: #f76859; } .service-icon i, header .navbar-nav .dropdown.open .dropdown-toggle, .active-category, .post-gallery-title, .comment-navigation .current, .contact-social-icons a, .countup-circle { color: #f76859!important; } .service-icon, .service-line, .service-line-bottom, .current-menu-item a, .current_page_parent a, blockquote, header .navbar-nav .dropdown.open .dropdown-toggle, .contact-social-icons a { border-color: #f76859!important; } .page-404, .btn-danger, .section-title-line, .blog-category, header .navbar-nav .dropdown.open .current-menu-item, .widget-area-2 .widget_search, .widget-area-2 .search-field, #wp-calendar #today, .blog-layout-2 #submit, .blog-layout-2 .comments-title, .wpcf7-submit, .portfolio-categories-container .portfolio-categories li.active a, .portfolio-categories-container .portfolio-categories li.active:hover a, .page-section-slogan .slogan-title, .testimonials-item, .back-top:hover { background-color: #f76859!important; } @media (min-width: 1000px) { header .navbar-nav .current-menu-item a, header .navbar-nav .current_page_parent a { color: #f76859!important; } } @media (max-width: 1000px) { header .navbar-nav .current-menu-item, header .navbar-nav .current_page_parent { background-color: #f76859; } } footer.bottom { background-color: #3C3C3C!important; } body, .section-content { font-family: Armata!important; color: #565656!important; } .page-blog { background-color: #f2f4f5!important; background-image: url(http://permadi.com/wp-content/themes/maskitto-light/img/blogbg.png)!important; } #some-block{ padding: 0; } header .header-details { background-color: #f76859; } </style> 	
<!-- BEGIN Metadata added by Add-Meta-Tags WordPress plugin -->
<meta name="description" content="In this tutorial, we will demonstrate methods of saving the content of a HTML5 Canvas object using server side scripting. PHP will be used in this example, but the technique can be applied in other languages as well.">
<meta name="keywords" content="html, javascript, php, programming, technology, html, html5, javascript, programming, tutorial, web development, web programming">
<!-- END Metadata added by Add-Meta-Tags WordPress plugin -->

<title>HTML5: Saving Canvas Image Data Using PHP And Ajax | permadi.com</title>
                        <script src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/ca-pub-2969475232836602.js"></script><script id="facebook-jssdk" src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/sdk.js"></script><script src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/webfont.js" type="text/javascript" async=""></script><script>
                            /* You can add more configuration options to webfontloader by previously defining the WebFontConfig with your options */
                            if ( typeof WebFontConfig === "undefined" ) {
                                WebFontConfig = new Object();
                            }
                            WebFontConfig['google'] = {families: ['Armata&amp;subset=latin']};

                            (function() {
                                var wf = document.createElement( 'script' );
                                wf.src = 'https://ajax.googleapis.com/ajax/libs/webfont/1.5.3/webfont.js';
                                wf.type = 'text/javascript';
                                wf.async = 'true';
                                var s = document.getElementsByTagName( 'script' )[0];
                                s.parentNode.insertBefore( wf, s );
                            })();
                        </script>
                        <link rel="alternate" type="application/rss+xml" title="permadi.com » Feed" href="http://permadi.com/feed/">
<link rel="alternate" type="application/rss+xml" title="permadi.com » Comments Feed" href="http://permadi.com/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="permadi.com » HTML5: Saving Canvas Image Data Using PHP And Ajax Comments Feed" href="http://permadi.com/2010/10/html5-saving-canvas-image-data-using-php-and-ajax/feed/">
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"http:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/permadi.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.2.9"}};
			!function(a,b,c){function d(a){var c=b.createElement("canvas"),d=c.getContext&&c.getContext("2d");return d&&d.fillText?(d.textBaseline="top",d.font="600 32px Arial","flag"===a?(d.fillText(String.fromCharCode(55356,56812,55356,56807),0,0),c.toDataURL().length>3e3):(d.fillText(String.fromCharCode(55357,56835),0,0),0!==d.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel="stylesheet" id="siteorigin-panels-front-css" href="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/front.css" type="text/css" media="all">
<link rel="stylesheet" id="contact-form-7-css" href="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/styles.css" type="text/css" media="all">
<link rel="stylesheet" id="ssbaFont-css" href="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/css.css" type="text/css" media="all">
<link rel="stylesheet" id="maskitto-light-bootstrap-css" href="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/bootstrap.css" type="text/css" media="all">
<link rel="stylesheet" id="maskitto-light-default-style-css" href="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/style.css" type="text/css" media="all">
<link rel="stylesheet" id="maskitto-light-font-awesome-css" href="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/font-awesome.css" type="text/css" media="all">
<link rel="stylesheet" id="maskitto-light-animate-css" href="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/animate.css" type="text/css" media="all">
<link rel="stylesheet" id="maskitto-light-jquery-tosrus-css" href="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/jquery.css" type="text/css" media="all">
<link rel="stylesheet" id="maskitto-light-responsive-style-css" href="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/responsive.css" type="text/css" media="all">
<link rel="stylesheet" id="maskitto-light-owl-carousel-css" href="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/slick.css" type="text/css" media="all">
<link rel="stylesheet" id="maskitto-light-google-fonts-css" href="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/css_002.css" type="text/css" media="all">
<link rel="stylesheet" href="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/css_003.css"><script type="text/javascript" src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/jquery_003.js"></script>
<script type="text/javascript" src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/jquery-migrate.js"></script>
<script type="text/javascript" src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/bootstrap.js"></script>
<script type="text/javascript" src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/jquery.js"></script>
<script type="text/javascript" src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/jquery_002.js"></script>
<script type="text/javascript" src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/jquery_005.js"></script>
<script type="text/javascript" src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/slick.js"></script>
<script type="text/javascript" src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/smoothscroll.js"></script>
<script type="text/javascript" src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/masonry.js"></script>
<script type="text/javascript" src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/scripts_002.js"></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://permadi.com/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://permadi.com/wp-includes/wlwmanifest.xml"> 
<link rel="prev" title="Loading And Unloading Modules In Flex Action Script Projects" href="http://permadi.com/2010/10/loading-and-unloading-modules-in-flex-action-script-projects/">
<link rel="next" title="Flash Gaming Summit 2011" href="http://permadi.com/2010/11/flash-gaming-summit-2011/">
<meta name="generator" content="WordPress 4.2.9">
<link rel="canonical" href="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/a_002.html">
<link rel="shortlink" href="http://permadi.com/?p=2722">
<style type="text/css">	.ssba {
									
									
									
									
								}
								.ssba img
								{
									width: 35px !important;
									padding: 6px;
									border:  0;
									box-shadow: none !important;
									display: inline !important;
									vertical-align: middle;
								}
								.ssba, .ssba a
								{
									text-decoration:none;
									background: none;
									font-family: Indie Flower;
									font-size: 	20px;
									
									
								}</style><style type="text/css" id="custom-background-css">
body.custom-background { background-color: #9fa4a5; }
</style>
<link rel="stylesheet" type="text/css" href="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/shCore.css"><link rel="stylesheet" type="text/css" href="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/shThemeDefault.css"><style type="text/css" id="syntaxhighlighteranchor"></style>
<style type="text/css">.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_reposition{overflow:hidden;position:relative}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}.fb_link img{border:none}@keyframes fb_transform{from{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.fb_animate{animation:fb_transform .3s forwards}
.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}.fb_reset .fb_dialog_legacy{overflow:visible}.fb_dialog_advanced{padding:10px;-moz-border-radius:8px;-webkit-border-radius:8px;border-radius:8px}.fb_dialog_content{background:#fff;color:#333}.fb_dialog_close_icon{background:url(https://static.xx.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;_background-image:url(https://static.xx.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif);cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px}.fb_dialog_mobile .fb_dialog_close_icon{top:5px;left:5px;right:auto}.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}.fb_dialog_close_icon:hover{background:url(https://static.xx.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent;_background-image:url(https://static.xx.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}.fb_dialog_close_icon:active{background:url(https://static.xx.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent;_background-image:url(https://static.xx.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}.fb_dialog_loader{background-color:#f6f7f9;border:1px solid #606060;font-size:24px;padding:20px}.fb_dialog_top_left,.fb_dialog_top_right,.fb_dialog_bottom_left,.fb_dialog_bottom_right{height:10px;width:10px;overflow:hidden;position:absolute}.fb_dialog_top_left{background:url(https://static.xx.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 0;left:-10px;top:-10px}.fb_dialog_top_right{background:url(https://static.xx.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -10px;right:-10px;top:-10px}.fb_dialog_bottom_left{background:url(https://static.xx.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -20px;bottom:-10px;left:-10px}.fb_dialog_bottom_right{background:url(https://static.xx.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -30px;right:-10px;bottom:-10px}.fb_dialog_vert_left,.fb_dialog_vert_right,.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{position:absolute;background:#525252;filter:alpha(opacity=70);opacity:.7}.fb_dialog_vert_left,.fb_dialog_vert_right{width:10px;height:100%}.fb_dialog_vert_left{margin-left:-10px}.fb_dialog_vert_right{right:0;margin-right:-10px}.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{width:100%;height:10px}.fb_dialog_horiz_top{margin-top:-10px}.fb_dialog_horiz_bottom{bottom:0;margin-bottom:-10px}.fb_dialog_iframe{line-height:0}.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #365899;color:#fff;font-size:14px;font-weight:bold;margin:0}.fb_dialog_content .dialog_title>span{background:url(https://static.xx.fbcdn.net/rsrc.php/v2/yd/r/Cou7n-nqK52.gif) no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}body.fb_hidden{-webkit-transform:none;height:100%;margin:0;overflow:visible;position:absolute;top:-10000px;left:0;width:100%}.fb_dialog.fb_dialog_mobile.loading{background:url(https://static.xx.fbcdn.net/rsrc.php/v2/ya/r/3rhSv5V8j3o.gif) white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}.fb_dialog.fb_dialog_mobile.loading.centered{width:auto;height:auto;min-height:initial;min-width:initial;background:none}.fb_dialog.fb_dialog_mobile.loading.centered #fb_dialog_loader_spinner{width:100%}.fb_dialog.fb_dialog_mobile.loading.centered .fb_dialog_content{background:none}.loading.centered #fb_dialog_loader_close{color:#fff;display:block;padding-top:20px;clear:both;font-size:18px}#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .45);position:absolute;bottom:0;left:0;right:0;top:0;width:100%;min-height:100%;z-index:10000}#fb-root #fb_dialog_ipad_overlay.hidden{display:none}.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}.fb_dialog_content .dialog_header{-webkit-box-shadow:white 0 1px 1px -1px inset;background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#738ABA), to(#2C4987));border-bottom:1px solid;border-color:#1d4088;color:#fff;font:14px Helvetica, sans-serif;font-weight:bold;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}.fb_dialog_content .dialog_header table{-webkit-font-smoothing:subpixel-antialiased;height:43px;width:100%}.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px}.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px}.fb_dialog_content .touchable_button{background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#4966A6), color-stop(.5, #355492), to(#2A4887));border:1px solid #29487d;-webkit-background-clip:padding-box;-webkit-border-radius:3px;-webkit-box-shadow:rgba(0, 0, 0, .117188) 0 1px 1px inset, rgba(255, 255, 255, .167969) 0 1px 0;display:inline-block;margin-top:3px;max-width:85px;line-height:18px;padding:4px 12px;position:relative}.fb_dialog_content .dialog_header .touchable_button input{border:none;background:none;color:#fff;font:12px Helvetica, sans-serif;font-weight:bold;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}.fb_dialog_content .dialog_content{background:url(https://static.xx.fbcdn.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #555;border-bottom:0;border-top:0;height:150px}.fb_dialog_content .dialog_footer{background:#f6f7f9;border:1px solid #555;border-top-color:#ccc;height:40px}#fb_dialog_loader_close{float:left}.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}#fb_dialog_loader_spinner{animation:rotateSpinner 1.2s linear infinite;background-color:transparent;background-image:url(https://static.xx.fbcdn.net/rsrc.php/v2/yD/r/t-wz8gw1xG1.png);background-repeat:no-repeat;background-position:50% 50%;height:24px;width:24px}@keyframes rotateSpinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
.fb_iframe_widget{display:inline-block;position:relative}.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}.fb_iframe_widget iframe{position:absolute}.fb_iframe_widget_fluid_desktop,.fb_iframe_widget_fluid_desktop span,.fb_iframe_widget_fluid_desktop iframe{max-width:100%}.fb_iframe_widget_fluid_desktop iframe{min-width:220px;position:relative}.fb_iframe_widget_lift{z-index:1}.fb_hide_iframes iframe{position:relative;left:-10000px}.fb_iframe_widget_loader{position:relative;display:inline-block}.fb_iframe_widget_fluid{display:inline}.fb_iframe_widget_fluid span{width:100%}.fb_iframe_widget_loader iframe{min-height:32px;z-index:2;zoom:1}.fb_iframe_widget_loader .FB_Loader{background:url(https://static.xx.fbcdn.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat;height:32px;width:32px;margin-left:-16px;position:absolute;left:50%;z-index:4}</style></head>
<body class="single single-post postid-2722 single-format-standard custom-background siteorigin-panels group-blog tos-desktop">
<div id="fb-root" class=" fb_reset"><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div><iframe name="fb_xdm_frame_http" allowtransparency="true" allowfullscreen="true" scrolling="no" id="fb_xdm_frame_http" aria-hidden="true" title="Facebook Cross Domain Communication Frame" tabindex="-1" style="border: medium none;" src="http://staticxx.facebook.com/connect/xd_arbiter.php?version=42#channel=fb2b551e959c0e&amp;origin=http%3A%2F%2Fpermadi.com" frameborder="0"></iframe><iframe name="fb_xdm_frame_https" allowtransparency="true" allowfullscreen="true" scrolling="no" id="fb_xdm_frame_https" aria-hidden="true" title="Facebook Cross Domain Communication Frame" tabindex="-1" style="border: medium none;" src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/xd_arbiter_002.html" frameborder="0"></iframe></div></div><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div></div></div></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.3";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
	<div class="boxed-layout">

	<header class="top framework-ok" style="height: 153px;">
			<!--div style="width: 100%; text-align:center;padding:2px;background-color:black;vertical-align:middle;"> 
				<div style="min-height: 60px;height:100%;width:100%;background-color:black;color:white;text-align:center;border:0;background: url(/images/ad-header-vertical.png);background-position-y: center; width:12px;display:inline-block;">
				</div>
				<div style="width:98%;display:inline-block;">
					<div>
	
				</div>
			</div-->
		
		<div class="header-details header-details-accent-color">
			<div class="container">
				<div class="row">
					<div class="col-md-7 col-sm-7 our-info">
						
							
							
											</div>
					<div class="col-md-5 col-sm-5 text-right soc-icons">
													
		
					<a href="https://www.facebook.com/pages/Permadicom/102374649838897" target="_blank"><i class="fa fa-facebook"></i></a>
		
					<a href="http://www.twitter.com/PermadiWebsite" target="_blank"><i class="fa fa-twitter"></i></a>
		
		
		
		
		
		
		
		
		
		
		
    
																		</div>
				</div>				
			</div>
			
		</div>
			
		<nav class="primary navbar navbar-default" role="navigation">

			<div class="container">
				<div class="navbar-header">
						<div class="header-ad"> 
							<script async="" src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/adsbygoogle.js"></script>
							
							<ins class="adsbygoogle" style="display: block; height: 60px;" data-ad-client="ca-pub-2969475232836602" data-ad-slot="4612718811" data-ad-format="horizontal" data-adsbygoogle-status="done"><ins id="aswift_0_expand" style="display:inline-table;border:none;height:60px;margin:0;padding:0;position:relative;visibility:visible;width:543px;background-color:transparent"><ins id="aswift_0_anchor" style="display:block;border:none;height:60px;margin:0;padding:0;position:relative;visibility:visible;width:543px;background-color:transparent"><iframe marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;" width="543" height="60" frameborder="0"></iframe></ins></ins></ins>
							<script>
							(adsbygoogle = window.adsbygoogle || []).push({}); 
							</script>
						</div>
						<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
						<i class="fa fa-bars"></i>
					</button>
					<a class="navbar-brand" href="http://permadi.com/">
													<img src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/logo.png" alt="permadi.com">
											</a>

						<!--div style="  height: 60px;width:100%;background-color:black;color:white;text-align:center;border:0;background: url(/images/ad-header-vertical.png);background-position-y: center; width:10px;float:left;">
						</div-->
			<!--		<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

			<ins class="adsbygoogle"
				 style="display:inline-block;width:320px;height:100px"
				 data-ad-client="ca-pub-2969475232836602"
				 data-ad-slot="8763716812"></ins>
			<script>
			(adsbygoogle = window.adsbygoogle || []).push({});
			</script>
			-->

					
				</div>

				<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
					<ul id="menu-main-menu" class="nav navbar-nav navbar-right navbar-primary"><li id="menu-item-11" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-11"><a title="Home" href="http://permadi.com/">Home</a></li>
<li id="menu-item-5626" class="menu-item menu-item-type-taxonomy menu-item-object-activity-category menu-item-5626"><a title="Activities" href="http://permadi.com/activity-category/non-game/">Activities</a></li>
<li id="menu-item-5625" class="menu-item menu-item-type-taxonomy menu-item-object-activity-category menu-item-5625"><a title="Games" href="http://permadi.com/activity-category/game/">Games</a></li>
<li id="menu-item-6" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-6"><a title="Mobile Apps" href="http://permadi.mobi/">Mobile Apps</a></li>
<li id="menu-item-7" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7"><a title="Tutorials" href="http://permadi.com/category/tutorials/">Tutorials</a></li>
<li id="menu-item-8" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8"><a title="Blog" href="http://permadi.com/category/blog/">Blog</a></li>
<li id="menu-item-10" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-10"><a title="About" href="http://permadi.com/about-me/">About</a></li>
<li id="menu-item-9" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-9"><a title="Awards" href="http://permadi.com/news-and-awards/">Awards</a></li>
<li id="menu-item-12" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12"><a title="Contact" href="http://permadi.com/contact">Contact</a></li>
</ul>
					
											<ul id="menu-header-menu-1" class="nav navbar-nav navbar-right navbar-secondary">
							<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-102"><a href="#">Social links</a></li>
							<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-102 menu-social-icons">
								
		
					<a href="https://www.facebook.com/pages/Permadicom/102374649838897" target="_blank"><i class="fa fa-facebook"></i></a>
		
					<a href="http://www.twitter.com/PermadiWebsite" target="_blank"><i class="fa fa-twitter"></i></a>
		
		
		
		
		
		
		
		
		
		
		
    							</li>
						</ul>
					
				</div>
			</div>

		</nav>

	</header>
	<div id="wrapper">

		<noscript>
			<div class="enable-javascript">
				Javascript is disabled in your web browser. Please enable it 
				<a href="http://www.enable-javascript.com" target="_blank" style="color:#fff;">(see how)</a>.
			</div>
		</noscript>

	 
			<div class="page-category">
			<div class="container">
				<a href="http://permadi.com/blog/" class="category-item active">All</a>
															<a href="http://permadi.com/category/tutorials/technology/" class="category-item">Technology</a>
																				<a href="http://permadi.com/category/tutorials/programming/" class="category-item">Programming</a>
																				<a href="http://permadi.com/category/tutorials/html/" class="category-item active-category">HTML</a>
																				<a href="http://permadi.com/category/tutorials/flash/" class="category-item">Adobe Flash</a>
																				<a href="http://permadi.com/category/blog/" class="category-item">Blog</a>
																				<a href="http://permadi.com/category/tutorials/general/" class="category-item">General</a>
																				<a href="http://permadi.com/category/tutorials/flash/actionscript/" class="category-item">ActionScript</a>
																				<a href="http://permadi.com/category/tutorials/iphone/" class="category-item">iPhone</a>
																				<a href="http://permadi.com/category/tutorials/javascript/" class="category-item">JavaScript</a>
																				<a href="http://permadi.com/category/tutorials/mac/" class="category-item">Mac</a>
																				<a href="http://permadi.com/category/tutorials/facebook/" class="category-item">facebook</a>
																				<a href="http://permadi.com/category/tutorials/flash/flex/" class="category-item">Flex</a>
																				<a href="http://permadi.com/category/tutorials/graphics/" class="category-item">Graphics</a>
																				<a href="http://permadi.com/category/tutorials/android/" class="category-item">Google Android</a>
																				<a href="http://permadi.com/category/games/" class="category-item">Games</a>
																				<a href="http://permadi.com/category/tutorials/java/" class="category-item">Java</a>
																				<a href="http://permadi.com/category/tutorials/php/" class="category-item">PHP</a>
																				<a href="http://permadi.com/category/tutorials/xcode/" class="category-item">xCode</a>
																				<a href="http://permadi.com/category/tutorials/ios/" class="category-item">iOS</a>
																				<a href="http://permadi.com/category/tutorials/wordpress/" class="category-item">WordPress</a>
																				<a href="http://permadi.com/category/tutorials/photoshop/" class="category-item">Photoshop</a>
																				<a href="http://permadi.com/category/tutorials/rss/" class="category-item">RSS</a>
																				<a href="http://permadi.com/category/tutorials/" class="category-item">Tutorial</a>
																		<a href="#" class="category-item category-show-all">(more)</a>
							</div>
		</div>
	
<div class="page-section page-blog">
	<div class="container">


		

			<div class="blog-post">
				
					

    
    <article id="post-2722" class="blog-layout-2 post-2722 post type-post status-publish format-standard has-post-thumbnail hentry category-html category-javascript category-php category-programming category-technology tag-html tag-html5 tag-javascript tag-programming tag-tutorial tag-web-development tag-web-programming">
                     
                            <a href="http://permadi.com/category/tutorials/html/" class="blog-category blog-category-left">HTML</a>
                    

        <div class="blog-top">
            <span class="blog-title" style="font-size: 21px;">
                HTML5: Saving Canvas Image Data Using PHP And Ajax                            </span>
        
            <div class="row">
                <div class="col-md-6 col-sm-6 blog-details" style="padding-left: 0;">
                    <span style="padding-right: 6px;">October 30, 2010</span>
                    <span class="post-author-name">By permadi</span>
                </div>
                <div class="col-md-6 col-sm-6 text-right blog-comments-count-single" style="padding-right: 0;">
                    <a href="http://permadi.com/2010/10/html5-saving-canvas-image-data-using-php-and-ajax/#comments"><i class="fa fa-comment-o" style="padding-right: 5px;"></i>18</a>
                </div>
            </div>
        </div>


        <div class="blog-bottom" style="padding-bottom: 25px;">
            <div class="blog-content" style="font-size: 14px; padding-top: 30px; margin-bottom: 0;">
                <div class="post-inner"><!-- Simple Share Buttons Adder (6.0.3) simplesharebuttons.com --><div class="ssba ssba-wrap"><div style="text-align:left">Share this:<a class="ssba_facebook_share" href="http://www.facebook.com/sharer.php?u=http://permadi.com/2010/10/html5-saving-canvas-image-data-using-php-and-ajax/" target="_blank"><img src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/facebook.png" title="Facebook" class="ssba ssba-img" alt="Share on Facebook"></a><a class="ssba_twitter_share" href="http://twitter.com/share?url=http://permadi.com/2010/10/html5-saving-canvas-image-data-using-php-and-ajax/&amp;text=HTML5%3A+Saving+Canvas+Image+Data+Using+PHP+And+Ajax+" target="_blank"><img src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/twitter.png" title="Twitter" class="ssba ssba-img" alt="Tweet about this on Twitter"></a><a class="ssba_tumblr_share" href="http://www.tumblr.com/share/link?url=permadi.com/2010/10/html5-saving-canvas-image-data-using-php-and-ajax/&amp;name=HTML5:%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax" target="_blank"><img src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/tumblr.png" title="tumblr" class="ssba ssba-img" alt="Share on Tumblr"></a><a class="ssba_pinterest_share" href="javascript:void((function()%7Bvar%20e=document.createElement('script');e.setAttribute('type','text/javascript');e.setAttribute('charset','UTF-8');e.setAttribute('src','//assets.pinterest.com/js/pinmarklet.js?r='+Math.random()*99999999);document.body.appendChild(e)%7D)());"><img src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/pinterest.png" title="Pinterest" class="ssba ssba-img" alt="Pin on Pinterest"></a><a class="ssba_google_share" href="https://plus.google.com/share?url=http://permadi.com/2010/10/html5-saving-canvas-image-data-using-php-and-ajax/" target="_blank"><img src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/google.png" title="Google+" class="ssba ssba-img" alt="Share on Google+"></a></div></div><p>In
 this tutorial, we will demonstrate methods of saving the content of a 
HTML5 Canvas object using server side scripting. PHP will be used in 
this example, but the technique can be applied in other languages as 
well.</p>
<p>This post requires understanding of Javascript, HTML (especially 
forms and/or AJAX). PHP is used in the example but the code is fairly 
simple and can be replicated in other languages.</p>
<h2>Here’s The Example</h2>
<div class="iframe-wrapper">
  <iframe src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/test.html" style="height:700px;width:600px;" frameborder="0">Please upgrade your browser</iframe>
</div>
<h2>Client Side</h2>
<p>To retrieve the image data, use <strong>toDataURL(type, quality)</strong> method on a <strong>Canvas </strong>object.</p>
<ul>
<li>the <strong>type</strong>parameter is the image format to use: <em>image/png</em>, <em>image/jpeg</em>, etc. Current W3 standard (<a href="http://www.w3.org/TR/html5/the-canvas-element.html#dom-canvas-todataurl">http://www.w3.org/TR/html5/the-canvas-element.html#dom-canvas-todataurl</a>) says that only PNG is required for browsers to conform to HTML 5 spec, so for this example, I’ll only be using PNG.</li>
<li>the <strong>quality </strong>parameter is a number between 0.0 to 
1.0 to specify the quality of the image encoding, higher number means 
better quality. If unspecified, the default value will be used. <strong>Note:
 I am having issues when specifying a second parameters in Firefox 3.6, 
so I’ll leave this parameter unspecified (update: looks like the second 
parameter is valid if you specify image/jpg, but not valid on 
image/png).</strong></li>
</ul>
<p>Here’s an example of the code that receives the canvas data.</p>
<div><div id="highlighter_60115" class="syntaxhighlighter  cpp"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp plain">var canvasData = testCanvas.toDataURL(</code><code class="cpp string">"image/png"</code><code class="cpp plain">);</code></div></div></td></tr></tbody></table></div></div>
<p>The content of the <strong>canvasData </strong>will look like this (shortened and newlines added for aesthetic):</p>
<div><div id="highlighter_56637" class="syntaxhighlighter  cpp"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp plain">data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAYAAAB5fY51AAAGB</code></div><div class="line number2 index1 alt1"><code class="cpp plain">ElEQVR4nO3UMVEEABAEwZNFBiGOeAe8I0LIsIWCDUinuqtOwAZzd3cvd/fhnMvf6wU87u737</code></div><div class="line number3 index2 alt2"><code class="cpp plain">p7Ouez93N3nBTwgCnTeWYIMGU6zwwBpkznmSHAlOk8MwSYMp1nhgBTpvPMEGDKdJ4ZAk</code></div><div class="line number4 index3 alt1"><code class="cpp plain">yZzjNDgCnTeWYIMGU6zwwBpkznmSHAlOk8MwSYMp1nhgBTpvPMEGDKdJ4ZAkyZzjNDgCn</code></div><div class="line number5 index4 alt2"><code class="cpp plain">e10Ue1tvdPZ1z+Xs/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA</code></div><div class="line number6 index5 alt1"><code class="cpp plain">AAAAAAAAAAAAAAAAAAAAAAAIB/+gMqleRG3CrxcAAAAABJRU5ErkJggg==</code></div></div></td></tr></tbody></table></div></div>
<p>The real image data comes after the “,” (comma) sign — meaning everything after the <strong>data:,</strong>.
 The data is base64 encoded so you can send it as part a POST variables 
safely as text (GET is generally not recommended since it has length 
limitation and images can easily gets large).</p>
<p>In the HTML side, let’s use AJAX to send the data:</p>
<div><div id="highlighter_748973" class="syntaxhighlighter  cpp"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp plain">var canvasData = testCanvas.toDataURL(</code><code class="cpp string">"image/png"</code><code class="cpp plain">);</code></div><div class="line number2 index1 alt1"><code class="cpp plain">var ajax = </code><code class="cpp keyword bold">new</code> <code class="cpp plain">XMLHttpRequest();</code></div><div class="line number3 index2 alt2"><code class="cpp plain">ajax.open(</code><code class="cpp string">"POST"</code><code class="cpp plain">,</code><code class="cpp string">'testSave.php'</code><code class="cpp plain">,</code><code class="cpp keyword bold">false</code><code class="cpp plain">);</code></div><div class="line number4 index3 alt1"><code class="cpp plain">ajax.setRequestHeader(</code><code class="cpp string">'Content-Type'</code><code class="cpp plain">, </code><code class="cpp string">'application/upload'</code><code class="cpp plain">);</code></div><div class="line number5 index4 alt2"><code class="cpp plain">ajax.send(canvasData );</code></div></div></td></tr></tbody></table></div></div>
<p>The code above sends out the <strong>canvasData</strong>as a raw POST variable. One thing to pay attention here is the<br>
<strong>Content-Type</strong> should NOT be set to <strong>application/x-www-form-urlencoded</strong> but something unknown because basically we want the browser to send the data in its raw state.</p>
<p>This raw data will be available in php variable <strong>$GLOBALS[“HTTP_RAW_POST_DATA”]</strong>. This code calls a .php scripa named <strong>testSave.php</strong> — this script is explained below.</p>
<h2>ServerSide</h2>
<p>Here’s <strong>testSave.php</strong>, a basic script that retrieves the raw POST data from the client and saves the data into a file.</p>
<div><div id="highlighter_603844" class="syntaxhighlighter  cpp"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp plain">&lt;?php</code></div><div class="line number2 index1 alt1"><code class="cpp keyword bold">if</code> <code class="cpp plain">(isset($GLOBALS[</code><code class="cpp string">"HTTP_RAW_POST_DATA"</code><code class="cpp plain">]))</code></div><div class="line number3 index2 alt2"><code class="cpp plain">{</code></div><div class="line number4 index3 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp comments">// Get the data</code></div><div class="line number5 index4 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp plain">$imageData=$GLOBALS[</code><code class="cpp string">'HTTP_RAW_POST_DATA'</code><code class="cpp plain">];</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp comments">// Remove the headers (data:,) part.</code></div><div class="line number8 index7 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp comments">// A real application should use them according to needs such as to check image type</code></div><div class="line number9 index8 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp plain">$filteredData=substr($imageData, strpos($imageData, </code><code class="cpp string">","</code><code class="cpp plain">)+1);</code></div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp comments">// Need to decode before saving since the data we received is already base64 encoded</code></div><div class="line number12 index11 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp plain">$unencodedData=base64_decode($filteredData);</code></div><div class="line number13 index12 alt2">&nbsp;</div><div class="line number14 index13 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp comments">//echo "unencodedData".$unencodedData;</code></div><div class="line number15 index14 alt2">&nbsp;</div><div class="line number16 index15 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp comments">// Save file. This example uses a hard coded filename for testing,</code></div><div class="line number17 index16 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp comments">// but a real application can specify filename in POST variable</code></div><div class="line number18 index17 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp plain">$fp = </code><code class="cpp functions bold">fopen</code><code class="cpp plain">( </code><code class="cpp string">'test.png'</code><code class="cpp plain">, </code><code class="cpp string">'wb'</code> <code class="cpp plain">);</code></div><div class="line number19 index18 alt2"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp functions bold">fwrite</code><code class="cpp plain">( $fp, $unencodedData);</code></div><div class="line number20 index19 alt1"><code class="cpp spaces">&nbsp;&nbsp;</code><code class="cpp functions bold">fclose</code><code class="cpp plain">( $fp );</code></div><div class="line number21 index20 alt2"><code class="cpp plain">}</code></div><div class="line number22 index21 alt1"><code class="cpp plain">?&gt;</code></div></div></td></tr></tbody></table></div></div>
<h2>Notes</h2>
<ul>
<li>We are assuming that the file is always a PNG although you can 
easily check for file type by examining the portion before the comma.</li>
<li>The data is base64 encoded so we need to decode it (in PHP, you can just use <strong>base64_decode()</strong>
 function to do that, other languages should have similar function since
 this is a common operation). Then it’s just a matter of saving the 
decoded data into a file.</li>
<li>In this example, to simplify the code, the data is always saved to a file named <strong>test.png</strong>.</li>
<li>A common debugging issue is the file is not written because the 
script does not have the permission to write file. If you’re 
encountering issue, check that first, perhaps by writing a basic script 
to write a dummy file.</li>
<li>Note: In Internet Explorer 9 (Beta), you must have this line somehwhere before the html content (weird!):
<div><div id="highlighter_219541" class="syntaxhighlighter  cpp"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="cpp plain">&lt;!DOCTYPE html&gt;</code></div></div></td></tr></tbody></table></div></div>
</li>
</ul>
<p>Here’s a bare-bone test page: <a href="http://permadi.com/tutorial/save-canvas/test-save-html5-canvas.html">http://www.permadi.com/tutorial//tutorial/save-canvas/test-save-html5-canvas.html</a></p>
<p>The example were tested on Firefox 3.6 (Windows), Chrome 7.0.517.41 
(Windows), Internet Explorer 9 (Windows), Safari 4.04.4 (Mac), Chrome 
7.0.517.41 (Mac).</p>
<p>Here is another example that automatically downloads the saved file via the browser Downloader:<br>
<a href="http://www.permadi.com/tutorial/save-canvas/test-download-html5-canvas.html">http://www.permadi.com/tutorial/save-canvas/test-download-html5-canvas.html<br>
</a></p>
<!-- Simple Share Buttons Adder (6.0.3) simplesharebuttons.com --><div class="ssba ssba-wrap"><div style="text-align:left">Share this:<a class="ssba_facebook_share" href="http://www.facebook.com/sharer.php?u=http://permadi.com/2010/10/html5-saving-canvas-image-data-using-php-and-ajax/" target="_blank"><img src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/facebook.png" title="Facebook" class="ssba ssba-img" alt="Share on Facebook"></a><a class="ssba_twitter_share" href="http://twitter.com/share?url=http://permadi.com/2010/10/html5-saving-canvas-image-data-using-php-and-ajax/&amp;text=HTML5%3A+Saving+Canvas+Image+Data+Using+PHP+And+Ajax+" target="_blank"><img src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/twitter.png" title="Twitter" class="ssba ssba-img" alt="Tweet about this on Twitter"></a><a class="ssba_tumblr_share" href="http://www.tumblr.com/share/link?url=permadi.com/2010/10/html5-saving-canvas-image-data-using-php-and-ajax/&amp;name=HTML5:%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax" target="_blank"><img src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/tumblr.png" title="tumblr" class="ssba ssba-img" alt="Share on Tumblr"></a><a class="ssba_pinterest_share" href="javascript:void((function()%7Bvar%20e=document.createElement('script');e.setAttribute('type','text/javascript');e.setAttribute('charset','UTF-8');e.setAttribute('src','//assets.pinterest.com/js/pinmarklet.js?r='+Math.random()*99999999);document.body.appendChild(e)%7D)());"><img src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/pinterest.png" title="Pinterest" class="ssba ssba-img" alt="Pin on Pinterest"></a><a class="ssba_google_share" href="https://plus.google.com/share?url=http://permadi.com/2010/10/html5-saving-canvas-image-data-using-php-and-ajax/" target="_blank"><img src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/google.png" title="Google+" class="ssba ssba-img" alt="Share on Google+"></a></div></div></div>
            </div>

                            <div class="post-tags group">
                    <div class="post-tag-name">Tags:</div>
                                            <a href="http://permadi.com/tag/html/" class="post-tag">HTML </a>
                                            <a href="http://permadi.com/tag/html5/" class="post-tag">html5 </a>
                                            <a href="http://permadi.com/tag/javascript/" class="post-tag">JavaScript </a>
                                            <a href="http://permadi.com/tag/programming/" class="post-tag">Programming </a>
                                            <a href="http://permadi.com/tag/tutorial/" class="post-tag">tutorial </a>
                                            <a href="http://permadi.com/tag/web-development/" class="post-tag">web development </a>
                                            <a href="http://permadi.com/tag/web-programming/" class="post-tag">web programming </a>
                                    </div>
                    </div>
        

    </article>


											<div class="blog-layout-2">
					
						        <div class="post-navigation">
            <div class="row">
                <div class="col-md-6 col-sm-6 nav-previous grey"><a href="http://permadi.com/2010/10/loading-and-unloading-modules-in-flex-action-script-projects/" rel="prev"><i class="fa fa-angle-left"></i>Previous post</a></div><div class="col-md-6 col-sm-6 nav-next text-right grey"><a href="http://permadi.com/2010/11/flash-gaming-summit-2011/" rel="next">Next post<i class="fa fa-angle-right"></i></a></div>            </div>
        </div>
        						<div class="blog-bottom-large">
							
<div id="comments" class="comments-area">


	Write your comment here ...						<div id="respond" class="comment-respond">
				<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="http://permadi.com/2010/10/html5-saving-canvas-image-data-using-php-and-ajax/#respond" style="display:none;">Cancel reply</a></small></h3>
									<p class="must-log-in">You must be <a href="http://permadi.com/wp-login.php?redirect_to=http%3A%2F%2Fpermadi.com%2F2010%2F10%2Fhtml5-saving-canvas-image-data-using-php-and-ajax%2F">logged in</a> to post a comment.</p>												</div><!-- #respond -->
			

	
					<div class="blog-layout-2-comments">
				<div class="page-blog" style="height: 15px; margin: 0 -56px; padding: 0!important; margin-top: 30px;"></div>
		

			<h2 class="comments-title">
				<i class="fa fa-comments-o" style="padding-right: 5px;"></i>
				18 comments			</h2>

			<ol class="comment-list">
									<li class="pingback even thread-even depth-1" id="comment-403">

					<div id="div-comment-403" class="comment-body">
						<div class="comment-column-left">
							<div class="comment-thumb"></div>
						</div>
						<div class="comment-column-right">
							<div class="row">
								<div class="col-md-6">
									<span class="comment-author"><a href="http://www.permadi.com/blog/2009/04/html5-using-canvas-to-flip-images/" rel="external nofollow" class="url">permadi.com – Blog » HTML5: Using Canvas to Flip Images</a></span>									
									<span class="comment-date comment-meta commentmetadata grey"><a href="http://permadi.com/2010/10/html5-saving-canvas-image-data-using-php-and-ajax/#comment-403">
										October 30, 2010 at 11:06 pm</a>
									</span>
								</div>
							</div>

							<div class="comment-content">
								<p>[…] Posts From Permadi.com:HTML5: Saving Canvas Image Data 
Using PHP And AjaxUsing HTML 5 Canvas To Draw Over A Web Page – Part 
1Using HTML 5 Canvas To Draw Over A Web Page – […]</p>
							</div>

							<div class="reply">
							<a rel="nofollow" class="comment-reply-login" href="http://permadi.com/wp-login.php?redirect_to=http%3A%2F%2Fpermadi.com%2F2010%2F10%2Fhtml5-saving-canvas-image-data-using-php-and-ajax%2F">Log in to Reply</a>							<span class="grey"></span>
							</div>
						</div>
					</div>

				</li><!-- #comment-## -->
					<li class="trackback odd alt thread-odd thread-alt depth-1" id="comment-404">

					<div id="div-comment-404" class="comment-body">
						<div class="comment-column-left">
							<div class="comment-thumb"></div>
						</div>
						<div class="comment-column-right">
							<div class="row">
								<div class="col-md-6">
									<span class="comment-author"><a href="http://www.wwnewsflash.com/html5#5389426" rel="external nofollow" class="url">World Wide News Flash</a></span>									
									<span class="comment-date comment-meta commentmetadata grey"><a href="http://permadi.com/2010/10/html5-saving-canvas-image-data-using-php-and-ajax/#comment-404">
										October 31, 2010 at 12:23 am</a>
									</span>
								</div>
							</div>

							<div class="comment-content">
								<p><strong>HTML5: Saving Canvas Image Data Using PHP And Ajax…</strong></p>
<p>I found your entry interesting do I’ve added a Trackback to it on my weblog :)…</p>
							</div>

							<div class="reply">
							<a rel="nofollow" class="comment-reply-login" href="http://permadi.com/wp-login.php?redirect_to=http%3A%2F%2Fpermadi.com%2F2010%2F10%2Fhtml5-saving-canvas-image-data-using-php-and-ajax%2F">Log in to Reply</a>							<span class="grey"></span>
							</div>
						</div>
					</div>

				</li><!-- #comment-## -->
					<li class="comment even thread-even depth-1" id="comment-408">

					<div id="div-comment-408" class="comment-body">
						<div class="comment-column-left">
							<div class="comment-thumb"><img alt="" src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/7dc7d254af9648054dd03211d16a5c3e.png" srcset="http://1.gravatar.com/avatar/7dc7d254af9648054dd03211d16a5c3e?s=108&amp;d=mm&amp;r=g 2x" class="avatar avatar-54 photo" width="54" height="54"></div>
						</div>
						<div class="comment-column-right">
							<div class="row">
								<div class="col-md-6">
									<span class="comment-author">exavolt</span>									
									<span class="comment-date comment-meta commentmetadata grey"><a href="http://permadi.com/2010/10/html5-saving-canvas-image-data-using-php-and-ajax/#comment-408">
										December 26, 2010 at 3:10 pm</a>
									</span>
								</div>
							</div>

							<div class="comment-content">
								<p>thanks. i was looking for this.</p>
<p>and for the weird thing in IE, it’s called quirks mode <a href="http://en.wikipedia.org/wiki/Quirks_mode" rel="nofollow">http://en.wikipedia.org/wiki/Quirks_mode</a></p>
							</div>

							<div class="reply">
							<a rel="nofollow" class="comment-reply-login" href="http://permadi.com/wp-login.php?redirect_to=http%3A%2F%2Fpermadi.com%2F2010%2F10%2Fhtml5-saving-canvas-image-data-using-php-and-ajax%2F">Log in to Reply</a>							<span class="grey"></span>
							</div>
						</div>
					</div>

				</li><!-- #comment-## -->
					<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-411">

					<div id="div-comment-411" class="comment-body">
						<div class="comment-column-left">
							<div class="comment-thumb"><img alt="" src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/cfdff35c854f000d242b1591026a1f2e.jpg" srcset="http://0.gravatar.com/avatar/cfdff35c854f000d242b1591026a1f2e?s=108&amp;d=mm&amp;r=g 2x" class="avatar avatar-54 photo" width="54" height="54"></div>
						</div>
						<div class="comment-column-right">
							<div class="row">
								<div class="col-md-6">
									<span class="comment-author">Golme</span>									
									<span class="comment-date comment-meta commentmetadata grey"><a href="http://permadi.com/2010/10/html5-saving-canvas-image-data-using-php-and-ajax/#comment-411">
										March 1, 2011 at 12:01 am</a>
									</span>
								</div>
							</div>

							<div class="comment-content">
								<p>Tanks this post, very help me!</p>
							</div>

							<div class="reply">
							<a rel="nofollow" class="comment-reply-login" href="http://permadi.com/wp-login.php?redirect_to=http%3A%2F%2Fpermadi.com%2F2010%2F10%2Fhtml5-saving-canvas-image-data-using-php-and-ajax%2F">Log in to Reply</a>							<span class="grey"></span>
							</div>
						</div>
					</div>

				</li><!-- #comment-## -->
					<li class="comment even thread-even depth-1 parent" id="comment-412">

					<div id="div-comment-412" class="comment-body">
						<div class="comment-column-left">
							<div class="comment-thumb"><img alt="" src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/e4acd40351a56223a64d66da34176159.jpg" srcset="http://2.gravatar.com/avatar/e4acd40351a56223a64d66da34176159?s=108&amp;d=mm&amp;r=g 2x" class="avatar avatar-54 photo" width="54" height="54"></div>
						</div>
						<div class="comment-column-right">
							<div class="row">
								<div class="col-md-6">
									<span class="comment-author">Sebastian</span>									
									<span class="comment-date comment-meta commentmetadata grey"><a href="http://permadi.com/2010/10/html5-saving-canvas-image-data-using-php-and-ajax/#comment-412">
										March 17, 2011 at 10:17 am</a>
									</span>
								</div>
							</div>

							<div class="comment-content">
								<p>image is sent and saved via ajax, but everytime it overwrites
 earlier canvas drawing. What if I want it to store every (new)canvas 
drawing?</p>
							</div>

							<div class="reply">
							<a rel="nofollow" class="comment-reply-login" href="http://permadi.com/wp-login.php?redirect_to=http%3A%2F%2Fpermadi.com%2F2010%2F10%2Fhtml5-saving-canvas-image-data-using-php-and-ajax%2F">Log in to Reply</a>							<span class="grey"></span>
							</div>
						</div>
					</div>

				<ol class="children">
					<li class="comment byuser comment-author-permadi bypostauthor odd alt depth-2" id="comment-414">

					<div id="div-comment-414" class="comment-body">
						<div class="comment-column-left">
							<div class="comment-thumb"><img alt="" src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/a_002.jpg" srcset="http://0.gravatar.com/avatar/?s=108&amp;d=mm&amp;r=g 2x" class="avatar avatar-54 photo avatar-default" width="54" height="54"></div>
						</div>
						<div class="comment-column-right">
							<div class="row">
								<div class="col-md-6">
									<span class="comment-author"><a href="http://www.permadi.com/" rel="external nofollow" class="url">permadi</a></span>									
									<span class="comment-date comment-meta commentmetadata grey"><a href="http://permadi.com/2010/10/html5-saving-canvas-image-data-using-php-and-ajax/#comment-414">
										April 1, 2011 at 9:46 pm</a>
									</span>
								</div>
							</div>

							<div class="comment-content">
								<p>This can be handled in the server side coding by checking 
existing filenames or prompting user for filenames — a different subject
 which is beyond the scope of the tutorial.</p>
							</div>

							<div class="reply">
							<a rel="nofollow" class="comment-reply-login" href="http://permadi.com/wp-login.php?redirect_to=http%3A%2F%2Fpermadi.com%2F2010%2F10%2Fhtml5-saving-canvas-image-data-using-php-and-ajax%2F">Log in to Reply</a>							<span class="grey"></span>
							</div>
						</div>
					</div>

				</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
					<li class="pingback even thread-odd thread-alt depth-1" id="comment-415">

					<div id="div-comment-415" class="comment-body">
						<div class="comment-column-left">
							<div class="comment-thumb"></div>
						</div>
						<div class="comment-column-right">
							<div class="row">
								<div class="col-md-6">
									<span class="comment-author"><a href="http://curransoft.com/code/2011/04/processingdb/" rel="external nofollow" class="url">ProcessingDB » Life of a Programmer Geek</a></span>									
									<span class="comment-date comment-meta commentmetadata grey"><a href="http://permadi.com/2010/10/html5-saving-canvas-image-data-using-php-and-ajax/#comment-415">
										April 21, 2011 at 9:26 am</a>
									</span>
								</div>
							</div>

							<div class="comment-content">
								<p>[…] Saving a canvas image […]</p>
							</div>

							<div class="reply">
							<a rel="nofollow" class="comment-reply-login" href="http://permadi.com/wp-login.php?redirect_to=http%3A%2F%2Fpermadi.com%2F2010%2F10%2Fhtml5-saving-canvas-image-data-using-php-and-ajax%2F">Log in to Reply</a>							<span class="grey"></span>
							</div>
						</div>
					</div>

				</li><!-- #comment-## -->
					<li class="pingback odd alt thread-even depth-1" id="comment-417">

					<div id="div-comment-417" class="comment-body">
						<div class="comment-column-left">
							<div class="comment-thumb"></div>
						</div>
						<div class="comment-column-right">
							<div class="row">
								<div class="col-md-6">
									<span class="comment-author"><a href="http://programmersgoodies.com/saving-a-canvas-dataurl-as-a-png-file-to-post-on-a-facebook-wall-through-an-app" rel="external nofollow" class="url">Saving a Canvas dataURL as a .png file (to post on a Facebook wall through an app) - Programmers Goodies</a></span>									
									<span class="comment-date comment-meta commentmetadata grey"><a href="http://permadi.com/2010/10/html5-saving-canvas-image-data-using-php-and-ajax/#comment-417">
										September 19, 2011 at 6:10 pm</a>
									</span>
								</div>
							</div>

							<div class="comment-content">
								<p>[…] <a href="http://www.permadi.com/blog/2010/10/html5-saving-canvas-image-data-using-php-and-ajax/#viewSource" rel="nofollow">http://www.permadi.com/blog/2010/10/html5-saving-canvas-image-data-using-php-and-ajax/#viewSource</a> […]</p>
							</div>

							<div class="reply">
							<a rel="nofollow" class="comment-reply-login" href="http://permadi.com/wp-login.php?redirect_to=http%3A%2F%2Fpermadi.com%2F2010%2F10%2Fhtml5-saving-canvas-image-data-using-php-and-ajax%2F">Log in to Reply</a>							<span class="grey"></span>
							</div>
						</div>
					</div>

				</li><!-- #comment-## -->
					<li class="pingback even thread-odd thread-alt depth-1" id="comment-419">

					<div id="div-comment-419" class="comment-body">
						<div class="comment-column-left">
							<div class="comment-thumb"></div>
						</div>
						<div class="comment-column-right">
							<div class="row">
								<div class="col-md-6">
									<span class="comment-author"><a href="http://www.kevinsookocheff.com/2011/07/27/saving-canvas-data-to-an-image-file-with-javascript-and-php/" rel="external nofollow" class="url">Saving canvas data to an image file with JavaScript and PHP | Clean Code</a></span>									
									<span class="comment-date comment-meta commentmetadata grey"><a href="http://permadi.com/2010/10/html5-saving-canvas-image-data-using-php-and-ajax/#comment-419">
										November 1, 2011 at 5:37 am</a>
									</span>
								</div>
							</div>

							<div class="comment-content">
								<p>[…] Permadi presents a technique using PHP and AJAX that is 
exactly what I need. After some tweaking here’s what I came up with. […]</p>
							</div>

							<div class="reply">
							<a rel="nofollow" class="comment-reply-login" href="http://permadi.com/wp-login.php?redirect_to=http%3A%2F%2Fpermadi.com%2F2010%2F10%2Fhtml5-saving-canvas-image-data-using-php-and-ajax%2F">Log in to Reply</a>							<span class="grey"></span>
							</div>
						</div>
					</div>

				</li><!-- #comment-## -->
					<li class="comment odd alt thread-even depth-1 parent" id="comment-422">

					<div id="div-comment-422" class="comment-body">
						<div class="comment-column-left">
							<div class="comment-thumb"><img alt="" src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/26ac511827a5d13f25421f8e28370868.jpg" srcset="http://2.gravatar.com/avatar/26ac511827a5d13f25421f8e28370868?s=108&amp;d=mm&amp;r=g 2x" class="avatar avatar-54 photo" width="54" height="54"></div>
						</div>
						<div class="comment-column-right">
							<div class="row">
								<div class="col-md-6">
									<span class="comment-author">fraxxx</span>									
									<span class="comment-date comment-meta commentmetadata grey"><a href="http://permadi.com/2010/10/html5-saving-canvas-image-data-using-php-and-ajax/#comment-422">
										March 21, 2012 at 3:28 am</a>
									</span>
								</div>
							</div>

							<div class="comment-content">
								<p>hello,</p>
<p>I thank you for this very useful script. I want you to just one 
question: I can save the file test.png on my server, but can not display
 the link in the “responseText”.<br>
Could you help me understand where I’m wrong?<br>
The following will send the link of my file<br>
<a href="http://ilterzomillennio.com/canvas/prova3.html" rel="nofollow">http://ilterzomillennio.com/canvas/prova3.html</a></p>
<p>Thank you in advance</p>
<p>Francesco</p>
							</div>

							<div class="reply">
							<a rel="nofollow" class="comment-reply-login" href="http://permadi.com/wp-login.php?redirect_to=http%3A%2F%2Fpermadi.com%2F2010%2F10%2Fhtml5-saving-canvas-image-data-using-php-and-ajax%2F">Log in to Reply</a>							<span class="grey"></span>
							</div>
						</div>
					</div>

				<ol class="children">
					<li class="comment byuser comment-author-permadi bypostauthor even depth-2" id="comment-423">

					<div id="div-comment-423" class="comment-body">
						<div class="comment-column-left">
							<div class="comment-thumb"><img alt="" src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/a.jpg" srcset="http://1.gravatar.com/avatar/?s=108&amp;d=mm&amp;r=g 2x" class="avatar avatar-54 photo avatar-default" width="54" height="54"></div>
						</div>
						<div class="comment-column-right">
							<div class="row">
								<div class="col-md-6">
									<span class="comment-author"><a href="http://www.permadi.com/" rel="external nofollow" class="url">permadi</a></span>									
									<span class="comment-date comment-meta commentmetadata grey"><a href="http://permadi.com/2010/10/html5-saving-canvas-image-data-using-php-and-ajax/#comment-423">
										April 4, 2012 at 9:10 pm</a>
									</span>
								</div>
							</div>

							<div class="comment-content">
								<p>In can’t see your PHP file, so I can’t say what’s missing.  
The filename is “echo”-ed by the PHP script which you should be able to 
get in the AJAX callback.</p>
							</div>

							<div class="reply">
							<a rel="nofollow" class="comment-reply-login" href="http://permadi.com/wp-login.php?redirect_to=http%3A%2F%2Fpermadi.com%2F2010%2F10%2Fhtml5-saving-canvas-image-data-using-php-and-ajax%2F">Log in to Reply</a>							<span class="grey"></span>
							</div>
						</div>
					</div>

				</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
					<li class="pingback odd alt thread-odd thread-alt depth-1" id="comment-424">

					<div id="div-comment-424" class="comment-body">
						<div class="comment-column-left">
							<div class="comment-thumb"></div>
						</div>
						<div class="comment-column-right">
							<div class="row">
								<div class="col-md-6">
									<span class="comment-author"><a href="http://www.pearltrees.com/sergiogarciafernandez/html5/id3549405#pearl40415596&amp;show=reveal,6" rel="external nofollow" class="url">HTML5 | Pearltrees</a></span>									
									<span class="comment-date comment-meta commentmetadata grey"><a href="http://permadi.com/2010/10/html5-saving-canvas-image-data-using-php-and-ajax/#comment-424">
										April 9, 2012 at 7:58 am</a>
									</span>
								</div>
							</div>

							<div class="comment-content">
								<p>[…] In this tutorial, we will demonstrate methods of saving 
the content of a HTML5 Canvas object using server side scripting. PHP 
will be used in this example, but the technique can be applied in other 
languages as well. This post requires understanding of Javascript, HTML 
(especially forms and/or AJAX). PHP is used in the example but the code 
is fairly simple and can be replicated in other languages.  HTML5: 
Saving Canvas Image Data Using PHP And Ajax […]</p>
							</div>

							<div class="reply">
							<a rel="nofollow" class="comment-reply-login" href="http://permadi.com/wp-login.php?redirect_to=http%3A%2F%2Fpermadi.com%2F2010%2F10%2Fhtml5-saving-canvas-image-data-using-php-and-ajax%2F">Log in to Reply</a>							<span class="grey"></span>
							</div>
						</div>
					</div>

				</li><!-- #comment-## -->
					<li class="comment even thread-even depth-1 parent" id="comment-426">

					<div id="div-comment-426" class="comment-body">
						<div class="comment-column-left">
							<div class="comment-thumb"><img alt="" src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/7ebf63778cda89f6e0f1a71425452aad.jpg" srcset="http://1.gravatar.com/avatar/7ebf63778cda89f6e0f1a71425452aad?s=108&amp;d=mm&amp;r=g 2x" class="avatar avatar-54 photo" width="54" height="54"></div>
						</div>
						<div class="comment-column-right">
							<div class="row">
								<div class="col-md-6">
									<span class="comment-author">danny</span>									
									<span class="comment-date comment-meta commentmetadata grey"><a href="http://permadi.com/2010/10/html5-saving-canvas-image-data-using-php-and-ajax/#comment-426">
										May 22, 2012 at 3:21 am</a>
									</span>
								</div>
							</div>

							<div class="comment-content">
								<p>It doesn’t work at all for me, the image is totally empty, it saves it but nothing more</p>
							</div>

							<div class="reply">
							<a rel="nofollow" class="comment-reply-login" href="http://permadi.com/wp-login.php?redirect_to=http%3A%2F%2Fpermadi.com%2F2010%2F10%2Fhtml5-saving-canvas-image-data-using-php-and-ajax%2F">Log in to Reply</a>							<span class="grey"></span>
							</div>
						</div>
					</div>

				<ol class="children">
					<li class="comment byuser comment-author-permadi bypostauthor odd alt depth-2" id="comment-427">

					<div id="div-comment-427" class="comment-body">
						<div class="comment-column-left">
							<div class="comment-thumb"><img alt="" src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/a_002.jpg" srcset="http://0.gravatar.com/avatar/?s=108&amp;d=mm&amp;r=g 2x" class="avatar avatar-54 photo avatar-default" width="54" height="54"></div>
						</div>
						<div class="comment-column-right">
							<div class="row">
								<div class="col-md-6">
									<span class="comment-author"><a href="http://www.permadi.com/" rel="external nofollow" class="url">permadi</a></span>									
									<span class="comment-date comment-meta commentmetadata grey"><a href="http://permadi.com/2010/10/html5-saving-canvas-image-data-using-php-and-ajax/#comment-427">
										May 22, 2012 at 8:51 pm</a>
									</span>
								</div>
							</div>

							<div class="comment-content">
								<p>You need to check what data is being sent to your PHP. In 
PHP, you can also check what you receive from the app by echoing the 
data.</p>
							</div>

							<div class="reply">
							<a rel="nofollow" class="comment-reply-login" href="http://permadi.com/wp-login.php?redirect_to=http%3A%2F%2Fpermadi.com%2F2010%2F10%2Fhtml5-saving-canvas-image-data-using-php-and-ajax%2F">Log in to Reply</a>							<span class="grey"></span>
							</div>
						</div>
					</div>

				</li><!-- #comment-## -->
</ol><!-- .children -->
</li><!-- #comment-## -->
					<li class="comment even thread-odd thread-alt depth-1" id="comment-807">

					<div id="div-comment-807" class="comment-body">
						<div class="comment-column-left">
							<div class="comment-thumb"><img alt="" src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/96328d7f7912077c761c2d40eabcdd4e.jpg" srcset="http://0.gravatar.com/avatar/96328d7f7912077c761c2d40eabcdd4e?s=108&amp;d=mm&amp;r=g 2x" class="avatar avatar-54 photo" width="54" height="54"></div>
						</div>
						<div class="comment-column-right">
							<div class="row">
								<div class="col-md-6">
									<span class="comment-author">Richi Gallego</span>									
									<span class="comment-date comment-meta commentmetadata grey"><a href="http://permadi.com/2010/10/html5-saving-canvas-image-data-using-php-and-ajax/#comment-807">
										February 9, 2015 at 12:41 am</a>
									</span>
								</div>
							</div>

							<div class="comment-content">
								<p>Thank you for this tutorial! I don’t know $GLOBALS[“HTTP_RAW_POST_DATA”]. It has saved my life.</p>
							</div>

							<div class="reply">
							<a rel="nofollow" class="comment-reply-login" href="http://permadi.com/wp-login.php?redirect_to=http%3A%2F%2Fpermadi.com%2F2010%2F10%2Fhtml5-saving-canvas-image-data-using-php-and-ajax%2F">Log in to Reply</a>							<span class="grey"></span>
							</div>
						</div>
					</div>

				</li><!-- #comment-## -->
					<li class="comment odd alt thread-even depth-1" id="comment-817">

					<div id="div-comment-817" class="comment-body">
						<div class="comment-column-left">
							<div class="comment-thumb"><img alt="" src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/f71d7187050c0b70f0d1d3bab2ee1aa6.jpg" srcset="http://0.gravatar.com/avatar/f71d7187050c0b70f0d1d3bab2ee1aa6?s=108&amp;d=mm&amp;r=g 2x" class="avatar avatar-54 photo" width="54" height="54"></div>
						</div>
						<div class="comment-column-right">
							<div class="row">
								<div class="col-md-6">
									<span class="comment-author">Alex</span>									
									<span class="comment-date comment-meta commentmetadata grey"><a href="http://permadi.com/2010/10/html5-saving-canvas-image-data-using-php-and-ajax/#comment-817">
										February 24, 2015 at 5:32 am</a>
									</span>
								</div>
							</div>

							<div class="comment-content">
								<p>Hi,</p>
<p>i got this error</p>
<p>TypeError: testCanvas.toDataURL is not a function</p>
<p>var canvasData = testCanvas.toDataURL(“image/png”);</p>
<p>Is there a soloution?</p>
<p>Alex</p>
							</div>

							<div class="reply">
							<a rel="nofollow" class="comment-reply-login" href="http://permadi.com/wp-login.php?redirect_to=http%3A%2F%2Fpermadi.com%2F2010%2F10%2Fhtml5-saving-canvas-image-data-using-php-and-ajax%2F">Log in to Reply</a>							<span class="grey"></span>
							</div>
						</div>
					</div>

				</li><!-- #comment-## -->
					<li class="pingback even thread-odd thread-alt depth-1" id="comment-822">

					<div id="div-comment-822" class="comment-body">
						<div class="comment-column-left">
							<div class="comment-thumb"></div>
						</div>
						<div class="comment-column-right">
							<div class="row">
								<div class="col-md-6">
									<span class="comment-author"><a href="http://www.tech.theplayhub.com/how_to_save_a_html5_canvas_as_image_on_a_server/" rel="external nofollow" class="url">How to save a HTML5 Canvas as Image on a server - Technology</a></span>									
									<span class="comment-date comment-meta commentmetadata grey"><a href="http://permadi.com/2010/10/html5-saving-canvas-image-data-using-php-and-ajax/#comment-822">
										March 8, 2015 at 3:28 am</a>
									</span>
								</div>
							</div>

							<div class="comment-content">
								<p>[…] <a href="http://permadi.com/blog/2010/10/html5-saving-canvas-image-data-using-php-and-ajax/" rel="nofollow">http://permadi.com/blog/2010/10/html5-saving-canvas-image-data-using-php-and-ajax/</a> […]</p>
							</div>

							<div class="reply">
							<a rel="nofollow" class="comment-reply-login" href="http://permadi.com/wp-login.php?redirect_to=http%3A%2F%2Fpermadi.com%2F2010%2F10%2Fhtml5-saving-canvas-image-data-using-php-and-ajax%2F">Log in to Reply</a>							<span class="grey"></span>
							</div>
						</div>
					</div>

				</li><!-- #comment-## -->
					<li class="comment odd alt thread-even depth-1" id="comment-828">

					<div id="div-comment-828" class="comment-body">
						<div class="comment-column-left">
							<div class="comment-thumb"><img alt="" src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/c976777456f4f674ed5e66acf4d5f479.jpg" srcset="http://0.gravatar.com/avatar/c976777456f4f674ed5e66acf4d5f479?s=108&amp;d=mm&amp;r=g 2x" class="avatar avatar-54 photo" width="54" height="54"></div>
						</div>
						<div class="comment-column-right">
							<div class="row">
								<div class="col-md-6">
									<span class="comment-author">Master Alex</span>									
									<span class="comment-date comment-meta commentmetadata grey"><a href="http://permadi.com/2010/10/html5-saving-canvas-image-data-using-php-and-ajax/#comment-828">
										March 26, 2015 at 12:33 pm</a>
									</span>
								</div>
							</div>

							<div class="comment-content">
								<p>This is what i used and what worked<br>
PHP Version 5.6.7</p>
<p>I Added in my php.ini the following:<br>
always_populate_raw_post_data = -1</p>
<p>Which allows to Get the Raw POST Data with the command line in php: “file_get_contents(‘php://input’);”<br>
instead of $GLOBALS[“HTTP_RAW_POST_DATA”]</p>
<p>This is my PHP code i used:</p>
<p>My Javascript Code i Used:</p>
<p>document.getElementById(“ConvertToLocal”).addEventListener(“click”, function(ev){<br>
	saveViaAJAX();<br>
	ev.preventDefault();<br>
});</p>
<p>function saveViaAJAX()<br>
{<br>
	var testCanvas = document.getElementById(“testCanvas”);<br>
	var canvasData = testCanvas.toDataURL(“image/png”);<br>
	var postData = “canvasData=”+canvasData;<br>
	var debugConsole= document.getElementById(“debugConsole”);<br>
	debugConsole.value=canvasData;</p>
<p>	//alert(“canvasData =”+canvasData );<br>
	var ajax = new XMLHttpRequest();<br>
	ajax.open(“POST”,’/CanvasToIMGOrignal.php’,true);<br>
	ajax.setRequestHeader(‘Content-Type’, ‘canvas/upload’);<br>
	//ajax.setRequestHeader(‘Content-TypeLength’, postData.length);</p>
<p>	ajax.onreadystatechange=function()<br>
	{<br>
		if (ajax.readyState == 4)<br>
		{<br>
			//alert(ajax.responseText);<br>
			// Write out the filename.<br>
			document.getElementById(“debugFilenameConsole”).innerHTML=”Saved as<a href="http://permadi.com/2010/10/html5-saving-canvas-image-data-using-php-and-ajax/%22+ajax.responseText+%22" rel="nofollow">“+ajax.responseText+”</a>Reload this page to generate new image or click the filename to open the image file.”;<br>
			}<br>
		}</p>
<p>	ajax.send(canvasData);<br>
}</p>
<p>// This portion of the code simply draws random circles into the canvas (it has nothing todo with saving the canvas).<br>
var canvas = document.getElementById(“testCanvas”);<br>
if (canvas.getContext)<br>
{<br>
	var canvasContext = canvas.getContext(“2d”);<br>
	for (i=0; i&lt;150; i++)<br>
	{<br>
		
canvasContext.fillStyle="rgb("+(parseInt(Math.random()*255))+","+(parseInt(Math.random()*255))+","+(parseInt(Math.random()*255))+")";<br>
		canvasContext.beginPath();<br>
		canvasContext.arc(Math.random()*350,Math.random()*350,Math.random()*20, 0,Math.PI*2,true);<br>
		canvasContext.fill();<br>
		}<br>
	}</p>
<p>And… My HTML Code:</p>
<p>			Data</p>
<p>			Wait for a while after clicking the button and the filename of the image will be shown to you.&nbsp;&nbsp;</p>
<p>			&nbsp;This is Below the canvas &nbsp;</p>
<p>Hope this helps. Dont forget i installed PHP with FastCGI on the IIS on my Computer and PC.</p>
<p>If you got trouble with that like i did, i was able to fix error 404.3 of the file unfound with this code in the File<br>
web.config in the rep: “C:inetpubwwwroot”</p>
<p>This is what saved me in the code below:</p>
<p>In the Web.config file:</p>
							</div>

							<div class="reply">
							<a rel="nofollow" class="comment-reply-login" href="http://permadi.com/wp-login.php?redirect_to=http%3A%2F%2Fpermadi.com%2F2010%2F10%2Fhtml5-saving-canvas-image-data-using-php-and-ajax%2F">Log in to Reply</a>							<span class="grey"></span>
							</div>
						</div>
					</div>

				</li><!-- #comment-## -->
			</ol><!-- .comment-list -->


			
					</div>
		
	

		
</div>						</div>

											</div>
					
							</div>


		

	</div>
</div>


</div>
	<footer class="bottom">
		<div class="ad">
			Advertisement<br>
			<!-- permadi.com bottom banner -->
			<ins class="adsbygoogle" style="display: block; height: 90px;" data-ad-client="ca-pub-2969475232836602" data-ad-slot="3108740818" data-ad-format="auto" data-adsbygoogle-status="done"><ins id="aswift_1_expand" style="display:inline-table;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:763px;background-color:transparent"><ins id="aswift_1_anchor" style="display:block;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:763px;background-color:transparent"><iframe marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_1" name="aswift_1" style="left:0;position:absolute;top:0;" width="763" height="90" frameborder="0"></iframe></ins></ins></ins>
			<script>
			(adsbygoogle = window.adsbygoogle || []).push({});
			</script>			 
		</div>
		<div class="container">
<!--		<div class="fb-page" data-href="https://www.facebook.com/pages/Permadicom/102374649838897" data-width="280" data-height="130" data-hide-cover="true" data-show-facepile="true" data-show-posts="false"><div class="fb-xfbml-parse-ignore"><blockquote cite="https://www.facebook.com/pages/Permadicom/102374649838897"><a href="https://www.facebook.com/pages/Permadicom/102374649838897">Permadi.com</a></blockquote></div></div>
-->
			

							<div class="copyrights">
					(C) 2015 F. Permadi

<a href="https://www.facebook.com/pages/Permadicom/102374649838897">Like Us on Facebook</a> | <a href="https://twitter.com/PermadiWebsite">Follow Us on Twitter</a>&nbsp;|

<a href="http://permadi.com/about-me/">About </a> | <a href="http://permadi.com/privacy-policy/">Privacy Policy</a>&nbsp;| <a href="http://permadi.com/contact/">Contact</a>&nbsp;| <a href="http://permadi.com/terms-of-use/">Site Terms of Use</a>				</div>
			
		</div>
	</footer>

			<div class="back-top animated fadeInUp" style="display: block;"><i class="fa fa-angle-up"></i></div>
	



<script type="text/javascript" src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/shCore.js"></script>
<script type="text/javascript" src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/shBrushCpp.js"></script>
<script type="text/javascript">
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "http://permadi.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.getElementsByTagName("head")[0].insertBefore( corecss, document.getElementById("syntaxhighlighteranchor") );
		var themecssurl = "http://permadi.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		//document.getElementById("syntaxhighlighteranchor").appendChild(themecss);
		document.getElementsByTagName("head")[0].insertBefore( themecss, document.getElementById("syntaxhighlighteranchor") );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();
</script>
<script type="text/javascript" src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/jquery_004.js"></script>
<script type="text/javascript">
/* <![CDATA[ */
var _wpcf7 = {"loaderUrl":"http:\/\/permadi.com\/wp-content\/plugins\/contact-form-7\/images\/ajax-loader.gif","recaptchaEmpty":"Please verify that you are not a robot.","sending":"Sending ...","cached":"1"};
/* ]]> */
</script>
<script type="text/javascript" src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/scripts.js"></script>
<script type="text/javascript" src="HTML5_%20Saving%20Canvas%20Image%20Data%20Using%20PHP%20And%20Ajax%20%7C%20permadi.com_fichiers/comment-reply.js"></script>

			</div>
	

			<script type="text/javascript">
			jQuery( document ).ready(function( $ ) {
				$('.navbar .dropdown').hover(function() {
				  $(this).find('.dropdown-menu').first().stop(true, true).slideDown(150);
				}, function() {
				  $(this).find('.dropdown-menu').first().stop(true, true).slideUp(105)
				});

				$( '.dropdown-toggle' ).on( 'click', function() {
					window.location.href = $(this).attr( 'href' );
					return false;
				});
			});
			</script>

    



</body></html>
<!-- Performance optimized by W3 Total Cache. Learn more: http://www.w3-edge.com/wordpress-plugins/

 Served from: permadi.com @ 2016-06-27 21:10:35 by W3 Total Cache -->